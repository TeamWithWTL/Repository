/** layui-v1.0.9_rls MIT License By http://www.layui.com */
; layui.define("layer", function (d) { var h = layui.jquery, k = layui.layer, f = layui.hint(), l = layui.device(), m = "form", c = ".layui-form", o = "layui-this", n = "layui-show", g = "layui-hide", j = "layui-disabled", i = function () { this.config = { verify: { required: [/[\S]+/, "必填项不能为空"], phone: [/^1\d{10}$/, "请输入正确的手机号"], email: [/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/, "邮箱格式不正确"], url: [/(^#)|(^http(s*):\/\/[^\s]+\.[^\s]+)/, "链接格式不正确"], number: [/^\d+$/, "只能填写数字"], date: [/^(\d{4})[-\/](\d{1}|0\d{1}|1[0-2])([-\/](\d{1}|0\d{1}|[1-2][0-9]|3[0-1]))*$/, "日期格式不正确"], identity: [/(^\d{15}$)|(^\d{17}(x|X|\d)$)/, "请输入正确的身份证号"] } } }; i.prototype.set = function (p) { var q = this; h.extend(true, q.config, p); return q }; i.prototype.verify = function (p) { var q = this; h.extend(true, q.config.verify, p); return q }; i.prototype.on = function (p, q) { return layui.onevent(m, p, q) }; i.prototype.render = function (q) { var r = this, p = { select: function () { var v = "请选择", A = "layui-form-select", t = "layui-select-title", x = "layui-select-none", z = "", s, w = h(c).find("select"), u = function (C, B) { if (!h(C.target).parent().hasClass(t) || B) { h("." + A).removeClass(A + "ed"); s && z && s.val(z) } s = null }, y = function (L, F, C) { var M = h(this), J = L.find("." + t), I = J.find("input"), G = L.find("dl"), K = G.children("dd"); if (F) { return } var B = function () { L.addClass(A + "ed"); K.removeClass(g) }, E = function () { L.removeClass(A + "ed"); I.blur(); D(I.val(), function (N) { if (N) { z = G.find("." + o).html(); I && I.val(z) } }) }; J.on("click", function (N) { L.hasClass(A + "ed") ? (E()) : (u(N, true), B()); G.find("." + x).remove() }); J.find(".layui-edge").on("click", function () { I.focus() }); I.on("keyup", function (N) { var O = N.keyCode; if (O === 9) { B() } }).on("keydown", function (N) { var O = N.keyCode; if (O === 9) { E() } else { if (O === 13) { N.preventDefault() } } }); var D = function (Q, R, P) { var N = 0; layui.each(K, function () { var T = h(this), U = T.text(), S = U.indexOf(Q) === -1; if (Q === "" || (P === "blur") ? Q !== U : S) { N++ } P === "keyup" && T[S ? "addClass" : "removeClass"](g) }); var O = N === K.length; return R(O), O }; var H = function (O) { var N = this.value, P = O.keyCode; if (P === 9 || P === 13 || P === 37 || P === 38 || P === 39 || P === 40) { return false } D(N, function (Q) { if (Q) { G.find("." + x)[0] || G.append('<p class="' + x + '">无匹配项</p>') } else { G.find("." + x).remove() } }, "keyup"); if (N === "") { G.find("." + x).remove() } }; if (C) { I.on("keyup", H).on("blur", function (N) { s = I; z = G.find("." + o).html(); setTimeout(function () { D(I.val(), function (O) { if (O && !z) { I.val("") } }, "blur") }, 200) }) } K.on("click", function () { var P = h(this), O = P.attr("lay-value"); var N = M.attr("lay-filter"); if (P.hasClass(j)) { return false } M.val(O).removeClass("layui-form-danger"), I.val(P.text()); P.addClass(o).siblings().removeClass(o); layui.event.call(this, m, "select(" + N + ")", { elem: M[0], value: O, othis: L }); E(); return false }); L.find("dl>dt").on("click", function (N) { return false }); h(document).off("click", u).on("click", u) }; w.each(function (F, J) { var C = h(this), G = C.next("." + A), E = this.disabled; var H = J.value, D = h(J.options[J.selectedIndex]); if (typeof C.attr("lay-ignore") === "string") { return C.show() } var B = typeof C.attr("lay-search") === "string"; var I = h(['<div class="layui-unselect ' + A + (E ? " layui-select-disabled" : "") + '">', '<div class="' + t + '"><input type="text" placeholder="' + (J.options[0] ? J.options[0].innerHTML ? J.options[0].innerHTML : v : v) + '" value="' + (H ? D.html() : "") + '" ' + (B ? "" : "readonly") + ' class="layui-input layui-unselect' + (E ? (" " + j) : "") + '">', '<i class="layui-edge"></i></div>', '<dl class="layui-anim layui-anim-upbit' + (C.find("optgroup")[0] ? " layui-select-group" : "") + '">' + function (L) { var K = []; layui.each(L, function (M, N) { if (M === 0 && !N.value) { return } if (N.tagName.toLowerCase() === "optgroup") { K.push("<dt>" + N.label + "</dt>") } else { K.push('<dd lay-value="' + N.value + '" class="' + (H === N.value ? o : "") + (N.disabled ? (" " + j) : "") + '">' + N.innerHTML + "</dd>") } }); return K.join("") }(C.find("*")) + "</dl>", "</div>"].join("")); G[0] && G.remove(); C.after(I); y.call(this, I, E, B) }) }, checkbox: function () { var u = { checkbox: ["layui-form-checkbox", "layui-form-checked", "checkbox"], _switch: ["layui-form-switch", "layui-form-onswitch", "switch"] }, t = h(c).find("input[type=checkbox]"), s = function (x, w) { var v = h(this); x.on("click", function () { var y = v.attr("lay-filter"), z = (v.attr("lay-text") || "").split("|"); if (v[0].disabled) { return } v[0].checked ? (v[0].checked = false, x.removeClass(w[1]).find("em").text(z[1])) : (v[0].checked = true, x.addClass(w[1]).find("em").text(z[0])); layui.event.call(v[0], m, w[2] + "(" + y + ")", { elem: v[0], value: v[0].value, othis: x }) }) }; t.each(function (y, v) { var w = h(this), D = w.attr("lay-skin"), B = (w.attr("lay-text") || "").split("|"), x = this.disabled; if (D === "switch") { D = "_" + D } var A = u[D] || u.checkbox; if (typeof w.attr("lay-ignore") === "string") { return w.show() } var z = w.next("." + A[0]); var C = h(['<div class="layui-unselect ' + A[0] + (v.checked ? (" " + A[1]) : "") + (x ? " layui-checkbox-disbaled " + j : "") + '" lay-skin="' + (D || "") + '">', { _switch: "<em>" + ((v.checked ? B[0] : B[1]) || "") + "</em><i></i>" }[D] || ((v.title.replace(/\s/g, "") ? ("<span>" + v.title + "</span>") : "") + '<i class="layui-icon">' + (D ? "&#xe605;" : "&#xe618;") + "</i>"), "</div>"].join("")); z[0] && z.remove(); w.after(C); s.call(this, C, A) }) }, radio: function () { var t = "layui-form-radio", v = ["&#xe643;", "&#xe63f;"], u = h(c).find("input[type=radio]"), s = function (y) { var x = h(this), w = "layui-anim-scaleSpring"; y.on("click", function () { var B = x[0].name, A = x.parents(c); var z = x.attr("lay-filter"); var C = A.find("input[name=" + B.replace(/(\.|#|\[|\])/g, "\\$1") + "]"); if (x[0].disabled) { return } layui.each(C, function () { var D = h(this).next("." + t); this.checked = false; D.removeClass(t + "ed"); D.find(".layui-icon").removeClass(w).html(v[1]) }); x[0].checked = true; y.addClass(t + "ed"); y.find(".layui-icon").addClass(w).html(v[0]); layui.event.call(x[0], m, "radio(" + z + ")", { elem: x[0], value: x[0].value, othis: y }) }) }; u.each(function (x, w) { var B = h(this), A = B.next("." + t), z = this.disabled; if (typeof B.attr("lay-ignore") === "string") { return B.show() } var y = h(['<div class="layui-unselect ' + t + (w.checked ? (" " + t + "ed") : "") + (z ? " layui-radio-disbaled " + j : "") + '">', '<i class="layui-anim layui-icon">' + v[w.checked ? 0 : 1] + "</i>", "<span>" + (w.title || "未命名") + "</span>", "</div>"].join("")); A[0] && A.remove(); B.after(y); s.call(this, y) }) } }; q ? (p[q] ? p[q]() : f.error("不支持的" + q + "表单渲染")) : layui.each(p, function (s, t) { t() }); return r }; var a = function () { var r = h(this), y = b.config.verify, w = null, t = "layui-form-danger", x = {}, s = r.parents(c), v = s.find("*[lay-verify]"), q = r.parents("form")[0], p = s.find("input,select,textarea"), u = r.attr("lay-filter"); layui.each(v, function (B, C) { var E = h(this), A = E.attr("lay-verify").split("|"); var z = "", D = E.val(); E.removeClass(t); layui.each(A, function (G, H) { var F = typeof y[H] === "function"; if (y[H] && (F ? z = y[H](D, C) : !y[H][0].test(D))) { k.msg(z || y[H][1], { icon: 5, shift: 6 }); if (!l.android && !l.ios) { C.focus() } E.addClass(t); return w = true } }); if (w) { return w } }); if (w) { return false } layui.each(p, function (z, A) { if (!A.name) { return } if (/^checkbox|radio$/.test(A.type) && !A.checked) { return } x[A.name] = A.value }); return layui.event.call(this, m, "submit(" + u + ")", { elem: this, form: q, field: x }) }; var b = new i(), e = h(document); b.render(); e.on("reset", c, function () { setTimeout(function () { b.render() }, 50) }); e.on("submit", c, a).on("click", "*[lay-submit]", a); d(m, function (p) { return b.set(p) }) });